module.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=125)}([function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(43)("wks"),o=n(29),i=n(3).Symbol,u="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=r},function(t,e){t.exports=require("auth0-extension-tools@1.3.2")},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";t.exports=n(2).config()},function(t,e){t.exports=require("express@4.12.4")},function(t,e,n){var r=n(21);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(6),o=n(69),i=n(46),u=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(8),o=n(27);t.exports=n(7)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(70),o=n(38);t.exports=function(t){return r(o(t))}},function(t,e){t.exports=require("lodash@4.8.2")},function(t,e,n){const r=n(111),o=n(58),i=n(104),u=n(110);t.exports.createServer=r.createServer,t.exports.urlHelpers=o,t.exports.middlewares=i,t.exports.routes=u},function(t,e,n){var r=n(3),o=n(0),i=n(24),u=n(10),a=function(t,e,n){var s,c,f,l=t&a.F,p=t&a.G,d=t&a.S,h=t&a.P,v=t&a.B,g=t&a.W,y=p?o:o[e]||(o[e]={}),m=y.prototype,b=p?r:d?r[e]:(r[e]||{}).prototype;p&&(n=e);for(s in n)(c=!l&&b&&void 0!==b[s])&&s in y||(f=c?b[s]:n[s],y[s]=p&&"function"!=typeof b[s]?n[s]:v&&c?i(f,r):g&&b[s]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):h&&"function"==typeof f?i(Function.call,f):f,h&&((y.virtual||(y.virtual={}))[s]=f,t&a.R&&m&&!m[s]&&u(m,s,f)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports={}},function(t,e,n){var r=n(74),o=n(40);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e){t.exports=require("bluebird@3.4.6")},function(t,e,n){"use strict";var r=n(256);r.emitErrs=!0;var o=new r.Logger({transports:[new r.transports.Console({timestamp:!0,level:"debug",handleExceptions:!0,json:!1,colorize:!0})],exitOnError:!1});t.exports=o,t.exports.stream={write:function(t){o.info(t.replace(/\n$/,""))}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){function r(t){return null==t?void 0===t?s:a:(t=Object(t),c&&c in t?i(t):u(t))}var o=n(86),i=n(219),u=n(225),a="[object Null]",s="[object Undefined]",c=o?o.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){var r=n(36);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=!0},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(8).f,o=n(9),i=n(1)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){"use strict";var r=n(171)(!0);n(71)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){n(175);for(var r=n(3),o=n(10),i=n(16),u=n(1)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],s=0;s<5;s++){var c=a[s],f=r[c],l=f&&f.prototype;l&&!l[u]&&o(l,u,c),i[c]=i.Array}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.JwksClient=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(56),s=r(a),c=n(98),f=r(c),l=n(80),p=(r(l),n(81)),d=r(p),h=n(83),v=r(h),g=n(188),y=n(190);e.JwksClient=function(){function t(e){var n=this;o(this,t),this.getSigningKey=function(t,e){n.logger("Fetching signing key for '"+t+"'"),n.getSigningKeys(function(r,o){if(r)return e(r);var i=o.find(function(e){return e.kid===t});return i?e(null,i):(n.logger("Unable to find a signing key that matches '"+t+"'"),e(new v.default("Unable to find a signing key that matches '"+t+"'")))})},this.options=i({rateLimit:!1,cache:!1,strictSsl:!0},e),this.logger=(0,s.default)("jwks"),this.options.rateLimit&&(this.getSigningKey=(0,y.rateLimitSigningKey)(this,e)),this.options.cache&&(this.getSigningKey=(0,y.cacheSigningKey)(this,e))}return u(t,[{key:"getKeys",value:function(t){var e=this;this.logger("Fetching keys from '"+this.options.jwksUri+"'"),(0,f.default)({json:!0,uri:this.options.jwksUri,strictSSL:this.options.strictSsl},function(n,r){return n||r.statusCode<200||r.statusCode>=300?(e.logger("Failure:",r&&r.body||n),t(r?new d.default(r.body&&(r.body.message||r.body)||r.statusMessage||"Http Error "+r.statusCode):n)):(e.logger("Keys:",r.body.keys),t(null,r.body.keys))})}},{key:"getSigningKeys",value:function(t){var e=this;this.getKeys(function(n,r){if(n)return t(n);if(!r||!r.length)return t(new d.default("The JWKS endpoint did not contain any keys"));var o=r.filter(function(t){return"sig"===t.use&&"RSA"===t.kty&&t.kid&&(t.x5c&&t.x5c.length||t.n&&t.e)}).map(function(t){return t.x5c&&t.x5c.length?{kid:t.kid,nbf:t.nbf,publicKey:(0,g.certToPEM)(t.x5c[0])}:{kid:t.kid,nbf:t.nbf,rsaPublicKey:(0,g.rsaPublicKeyToPEM)(t.n,t.e)}});return o.length?(e.logger("Signing Keys:",o),t(null,o)):t(new d.default("The JWKS endpoint did not contain any signing keys"))})}}]),t}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SigningKeyNotFoundError=e.JwksRateLimitError=e.JwksError=e.ArgumentError=void 0;var o=n(80),i=r(o),u=n(81),a=r(u),s=n(82),c=r(s),f=n(83),l=r(f);e.ArgumentError=i.default,e.JwksError=a.default,e.JwksRateLimitError=c.default,e.SigningKeyNotFoundError=l.default},function(t,e,n){function r(t){return null!=t&&i(t.length)&&!o(t)}var o=n(52),i=n(95);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getOptions=e.getChanges=e.hasChanges=void 0;var o=n(128),i=r(o),u=n(64),a=r(u),s=n(12),c=r(s),f=n(18),l=r(f),p=n(249),d=r(p),h=n(242),v=r(h),g=n(55),y=n(4),m=r(y),b=n(19),_=r(b),x=n(116),w=r(x),E=(e.hasChanges=function(t){return c.default.chain(t).map(function(t){return c.default.union(t.added,t.modified,t.removed)}).flattenDeep().uniq().filter(w.default.validFilesOnly).value().length>0},function(t,e,n){return new l.default(function(r,o){try{_.default.log("Repository: ",t),_.default.log("Branch: ",e),_.default.log("Sha: ",n);var i=(0,m.default)("HOST")||"api.github.com",u="api.github.com"!==i?(0,m.default)("API_PATH")||"/api/v3":"",a=new d.default({version:"3.0.0",host:i,pathPrefix:u});a.authenticate({type:"oauth",token:(0,m.default)("TOKEN")});var s=w.default.parseRepo(t),c=s.user,f=s.repo;a.gitdata.getTree({user:c,repo:f,sha:n||e,recursive:!0},function(t,e){if(t)return o(t);try{var n=e.tree.filter(function(t){return"blob"===t.type}).filter(function(t){return w.default.validFilesOnly(t.path)});return r(n)}catch(t){return o(t)}})}catch(t){_.default.error(t),o(t)}})}),S=function(t,e,n){var r=(0,m.default)("TOKEN"),o=(0,m.default)("HOST")||"api.github.com",i="api.github.com"!==o?(0,m.default)("API_PATH")||"/api/v3":"",u="https://"+r+":x-oauth-basic@"+o+i+"/repos/"+t+"/git/blobs/"+n.sha;return(0,v.default)({uri:u,json:!0,headers:{"user-agent":"auth0-github-deploy"}}).then(function(t){return _.default.debug("Downloaded "+n.path+" ("+n.sha+")"),{fileName:n.path,contents:new Buffer(t.content,"base64").toString()}}).catch(function(e){throw _.default.error("Error downloading '"+o+i+"/repos/"+t+"/git/blobs/"+n.sha+"'"),_.default.error(e),e})},k=function(t,e,n,r){var o={script:!1,metadata:!1,name:n},i=[];return r.script&&i.push(S(t,0,r.scriptFile).then(function(t){o.script=!0,o.scriptFile=t.contents})),r.metadata&&i.push(S(t,0,r.metadataFile).then(function(t){o.metadata=!0,o.metadataFile=t.contents})),l.default.all(i).then(function(){return o})},O=function(t,e,n){var r=w.default.getRulesFiles(n);return l.default.map((0,a.default)(r),function(e){return k(t,0,e,r[e])},{concurrency:2})},j=function(t,e,n,r){var o={name:n,scripts:[]},i=[];return r.forEach(function(e){i.push(S(t,0,e).then(function(t){"settings"===e.name?o.settings=t.contents:o.scripts.push({name:e.name,scriptFile:t.contents})}))}),l.default.all(i).then(function(){return o})},T=function(t,e,n){var r=w.default.getDatabaseFiles(n);return l.default.map((0,a.default)(r),function(e){return j(t,0,e,r[e])},{concurrency:2})},A=function(t,e,n,r,o){var i=[],u={metadata:!1,name:n};return r.file&&i.push(S(t,0,r.file).then(function(t){u.htmlFile=t.contents})),r.meta_file&&i.push(S(t,0,r.meta_file).then(function(t){u.metadata=!0,u.metadataFile=t.contents})),l.default.all(i).then(function(){return u})},R=function(t,e,n,r){var o=[],i={metadata:!1,name:n};return r.configFile&&o.push(S(t,0,r.configFile).then(function(t){i.configFile=t.contents})),r.metadataFile&&o.push(S(t,0,r.metadataFile).then(function(t){i.metadata=!0,i.metadataFile=t.contents})),l.default.all(o).then(function(){return i})},P=function(t,e,n,r,o){var i=w.default.getTplFiles(n,r,o);return l.default.map((0,a.default)(i),function(e){return A(t,0,e,i[e])},{concurrency:2})},C=function(t,e,n){return R(t,0,"emailProvider",{configFile:c.default.find(n,function(t){return w.default.isEmailProvider(t.path)})})},I=function(t,e,n,r){var o=w.default.getConfigurablesFiles(n,r);return l.default.map((0,a.default)(o),function(e){return R(t,0,e,o[e])},{concurrency:2})};e.getChanges=function(t){var e=t.repository,n=t.branch,r=t.sha;return E(e,n,r).then(function(t){_.default.debug("Files in tree: "+(0,i.default)(t.map(function(t){return{path:t.path,sha:t.sha}}),null,2));var n={rules:O(e,0,t),databases:T(e,0,t),emailProvider:C(e,0,t),emailTemplates:P(e,0,t,g.constants.EMAIL_TEMPLATES_DIRECTORY,g.constants.EMAIL_TEMPLATES_NAMES),pages:P(e,0,t,g.constants.PAGES_DIRECTORY,g.constants.PAGE_NAMES),clients:I(e,0,t,g.constants.CLIENTS_DIRECTORY),clientGrants:I(e,0,t,g.constants.CLIENTS_GRANTS_DIRECTORY),connections:I(e,0,t,g.constants.CONNECTIONS_DIRECTORY),rulesConfigs:I(e,0,t,g.constants.RULES_CONFIGS_DIRECTORY),resourceServers:I(e,0,t,g.constants.RESOURCE_SERVERS_DIRECTORY)};return l.default.props(n).then(function(t){return w.default.unifyData(t)})})},e.getOptions=w.default.getOptions},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(20),o=n(1)("toStringTag"),i="Arguments"==r(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(21),o=n(3).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(43)("keys"),o=n(29);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(3),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(38);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(21);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(3),o=n(0),i=n(25),u=n(48),a=n(8).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:u.f(t)})}},function(t,e,n){e.f=n(1)},function(t,e,n){var r=n(90),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){function n(t){return t}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function r(t){if(!i(t))return!1;var e=o(t);return e==a||e==s||e==u||e==c}var o=n(22),i=n(53),u="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";t.exports=r},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){function r(t){return u(t)?o(t):i(t)}var o=n(199),i=n(206),u=n(34);t.exports=r},function(t,e){t.exports=require("auth0-source-control-extension-tools@3.1.4")},function(t,e){t.exports=require("debug@2.2.0")},function(t,e){t.exports=require("path")},function(t,e,n){function r(t){if(!t.container)return null;const e=t.container.replace(c,"\\$&"),n=t.jtn?t.jtn.replace(c,"\\$&"):"";if(t.url_format===s)return new RegExp("^/api/run/"+e+"/(?:"+n+"/?)?");if(t.url_format===a)return new RegExp("^/"+e+"/(?:"+n+"/?)?");if(t.url_format===u)return new RegExp("^/(?:"+n+"/?)?");throw new Error("Unsupported webtask URL format.")}function o(t,e){if(!t)return null;const n=t.indexOf("sandbox8")>=0?"8":"";return"https://"+e+"."+(t.split(".it.auth0.com")[0].split("-")[1]||"us")+n+".webtask.io/"}const i=n(254),u=3,a=2,s=1,c=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,f=function(t,e){var n=i.parse(t).pathname||"";return n=n.replace(e,"").replace(/^\/|\/$/g,""),n.startsWith("/")||(n="/"+n),n.endsWith("/")||(n+="/"),n};t.exports.getBasePath=function(t){return f(t.originalUrl||"",t.path)},t.exports.getBaseUrl=function(t,e){var n=e;const r=i.parse(t.originalUrl||"").pathname||"";return i.format({protocol:n||"https",host:t.headers.host,pathname:r.replace(t.path,"").replace(/\/$/g,"")})},t.exports.getWebtaskUrl=function(t){const e=r(t.x_wt),n=t.url,u=t.url.replace(e,"/"),a=i.parse(u||"").pathname,s=t.x_wt&&t.x_wt.ectx&&t.x_wt.ectx.ISOLATED_DOMAIN||!1,c=i.parse(n||"").pathname||"";var f;if(s){f=i.format({protocol:"https",host:t.headers.host,pathname:c.replace(a,"").replace(/\/$/g,"")});const l=".it.auth0.com/api/run/"+t.x_wt.container+"/",p=o(f,t.x_wt.container);f.indexOf(l)>=0&&(f=f.replace("https://"+t.headers.host+"/api/run/"+t.x_wt.container+"/",p))}else f=c;return f}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=n(240);t.exports=function(t,e,n){return function(o,i,u){var a=r(u);return!0===t||"function"==typeof t&&t(o,i,a)?e(o,i,a):n?n(o,i,a):a()}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(135),i=r(o),u=n(64),a=r(u),s=n(65),c=r(s),f=n(67),l=r(f),p=n(133),d=r(p),h=n(134),v=r(h),g=n(244),y=function(){function t(e){(0,d.default)(this,t),this.password=e}return(0,v.default)(t,[{key:"decrypt",value:function(t){var e=t.replace("[!cipher]","").replace("[rehpic!]","").split("-"),n=(0,l.default)(e,2),r=n[0],o=n[1];return g.pwdDecrypt.aead(this.password,r,o).then(function(e){return{original:t,plain:e.toString("utf8")}})}},{key:"decryptString",value:function(t){var e=this,n=/\[!cipher][0-9a-fA-F]+-[0-9a-fA-F]+\[rehpic!]/g,r=t.match(n)||[],o=[];return r.forEach(function(t){return o.push(e.decrypt(t))}),c.default.all(o).then(function(e){var n=t;return e.forEach(function(t){n=n.replace(t.original,t.plain)}),n})}},{key:"prepareData",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t&&(0,a.default)(t).forEach(function(r){"string"==typeof t[r]?n.push(e.decryptString(t[r]).then(function(e){t[r]=e})):"object"===(0,i.default)(t[r])&&e.prepareData(t[r],n)}),n}},{key:"processData",value:function(t){return c.default.all(this.prepareData(t))}},{key:"encrypt",value:function(t){return g.pwdEncrypt.aead(t,this.password).then(function(t){return"[!cipher]"+t.ciphertext.toString("hex")+"-"+t.nonce.toString("hex")+"[rehpic!]"})}}]),t}();e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(65),i=r(o),u=n(55),a=n(114),s=r(a),c=n(63),f=n(4),l=r(f),p=n(35),d=p.getChanges;e.default=function(t,e,n){var r=n.id,o=n.sha,a=n.user,f=n.branch,p=n.repository,h={id:r,sha:o,user:a,branch:f,repository:p};return n.version="manual"===r?o:f,d(n).then(function(e){return(0,c.getExcluded)(t).then(function(t){return e.exclude=t,h.assets=e,e})}).then(function(t){return(0,u.deploy)(t,e,l.default)}).then(function(e){return(0,s.default)(t,{repo:h,progress:e})}).catch(function(e){return(0,s.default)(t,{repo:h,error:e.message}).then(function(){return i.default.reject(e)})})}},function(t,e,n){"use strict";function r(t){return t.read().then(function(t){return{rules:t.excluded_rules,resourceServers:t.excluded_resource_servers}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.read().then(function(n){return e.assets=null,delete e.assets,n.deployments=n.deployments||[],n.deployments.push(e),n.deployments=n.deployments.splice(-20,20),t.write(n).then(function(){return e})})},e.getExcluded=r},function(t,e,n){t.exports={default:n(143),__esModule:!0}},function(t,e,n){t.exports={default:n(144),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(129),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(127),i=r(o),u=n(126),a=r(u);e.default=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,s=(0,a.default)(t);!(r=(u=s.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,i.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){t.exports=n(3).document&&document.documentElement},function(t,e,n){t.exports=!n(7)&&!n(15)(function(){return 7!=Object.defineProperty(n(39)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var r=n(25),o=n(14),i=n(75),u=n(10),a=n(9),s=n(16),c=n(156),f=n(28),l=n(166),p=n(1)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,v,g,y,m){c(n,e,v);var b,_,x,w=function(t){if(!d&&t in O)return O[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",S="values"==g,k=!1,O=t.prototype,j=O[p]||O["@@iterator"]||g&&O[g],T=j||w(g),A=g?S?w("entries"):T:void 0,R="Array"==e?O.entries||j:j;if(R&&(x=l(R.call(new t)))!==Object.prototype&&(f(x,E,!0),r||a(x,p)||u(x,p,h)),S&&j&&"values"!==j.name&&(k=!0,T=function(){return j.call(this)}),r&&!m||!d&&!k&&O[p]||u(O,p,T),s[e]=T,s[E]=h,g)if(b={values:S?T:w("values"),keys:y?T:w("keys"),entries:A},m)for(_ in b)_ in O||i(O,_,b[_]);else o(o.P+o.F*(d||k),e,b);return b}},function(t,e,n){var r=n(6),o=n(163),i=n(40),u=n(42)("IE_PROTO"),a=function(){},s=function(){var t,e=n(39)("iframe"),r=i.length;for(e.style.display="none",n(68).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),s=t.F;r--;)delete s.prototype[i[r]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[u]=t):n=s(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(74),o=n(40).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(9),o=n(11),i=n(149)(!1),u=n(42)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),s=0,c=[];for(n in a)n!=u&&r(a,n)&&c.push(n);for(;e.length>s;)r(a,n=e[s++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){t.exports=n(10)},function(t,e,n){var r,o,i,u=n(24),a=n(152),s=n(68),c=n(39),f=n(3),l=f.process,p=f.setImmediate,d=f.clearImmediate,h=f.MessageChannel,v=0,g={},y=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},m=function(t){y.call(t.data)};p&&d||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++v]=function(){a("function"==typeof t?t:Function(t),e)},r(v),v},d=function(t){delete g[t]},"process"==n(20)(l)?r=function(t){l.nextTick(u(y,t,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=m,r=u(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",m,!1)):r="onreadystatechange"in c("script")?function(t){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),y.call(t)}}:function(t){setTimeout(u(y,t,1),0)}),t.exports={set:p,clear:d}},function(t,e,n){var r=n(44),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(37),o=n(1)("iterator"),i=n(16);t.exports=n(0).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e){},function(t,e,n){"use strict";function r(t){Error.call(this,t),Error.captureStackTrace(this,this.constructor),this.name="ArgumentError",this.message=t}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){"use strict";function r(t){Error.call(this,t),Error.captureStackTrace(this,this.constructor),this.name="JwksError",this.message=t}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){"use strict";function r(t){Error.call(this,t),Error.captureStackTrace(this,this.constructor),this.name="JwksRateLimitError",this.message=t}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){"use strict";function r(t){Error.call(this,t),Error.captureStackTrace(this,this.constructor),this.name="SigningKeyNotFoundError",this.message=t}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){"use strict";var r=n(193);t.exports=function(t,e){if("string"!=typeof t)throw new Error("Invalid token specified");e=e||{};var n=!0===e.header?0:1;return JSON.parse(r(t.split(".")[n]))}},function(t,e){var n=function(t,e,n,r){if(this.bucketSize=t,this.tokensPerInterval=e,"string"==typeof n)switch(n){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+n)}else this.interval=n;this.parentBucket=r,this.content=0,this.lastDrip=+new Date};n.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(t,e){function n(){var n=Math.ceil((t-r.content)*(r.interval/r.tokensPerInterval));return setTimeout(function(){r.removeTokens(t,e)},n),!1}var r=this;return this.bucketSize?t>this.bucketSize?(process.nextTick(e.bind(null,"Requested tokens "+t+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),t>this.content?n():this.parentBucket?this.parentBucket.removeTokens(t,function(o,i){return o?e(o,null):t>r.content?n():(r.content-=t,void e(null,Math.min(i,r.content)))}):(this.content-=t,process.nextTick(e.bind(null,null,this.content)),!0)):(process.nextTick(e.bind(null,null,t,Number.POSITIVE_INFINITY)),!0)},tryRemoveTokens:function(t){return!this.bucketSize||!(t>this.bucketSize)&&(this.drip(),!(t>this.content)&&(!(this.parentBucket&&!this.parentBucket.tryRemoveTokens(t))&&(this.content-=t,!0)))},drip:function(){if(!this.tokensPerInterval)return void(this.content=this.bucketSize);var t=+new Date,e=Math.max(t-this.lastDrip,0);this.lastDrip=t;var n=e*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+n,this.bucketSize)}},t.exports=n},function(t,e,n){var r=n(49),o=r.Symbol;t.exports=o},function(t,e,n){function r(t,e,n){var r=t[e];a.call(t,e)&&i(r,n)&&(void 0!==n||e in t)||o(t,e,n)}var o=n(88),i=n(94),u=Object.prototype,a=u.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var o=n(89);t.exports=r},function(t,e,n){var r=n(217),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e){var n="object"==typeof global&&global&&global.Object===Object&&global;t.exports=n},function(t,e){function n(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e){function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}var r=Object.prototype;t.exports=n},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e){t.exports=require("crypto")},function(t,e){t.exports=require("express-jwt@3.1.0")},function(t,e){t.exports=require("request@2.56.0")},function(t,e){t.exports=require("superagent@3.8.3")},function(t,e,n){"use strict";(function(e){function r(t){return t&&t.__esModule?t:{default:t}}var o=n(243),i=r(o),u=n(57),a=r(u),s=n(252),c=r(s),f=n(5),l=r(f),p=n(245),d=r(p),h=n(2),v=r(h),g=n(13),y=n(120),m=r(y),b=n(19),_=r(b),x=n(4),w=r(x);t.exports=function(t,n){w.default.setProvider(t);var r=n?new v.default.WebtaskStorageContext(n,{force:1}):new v.default.FileStorageContext(a.default.join(e,"./data.json"),{mergeWrites:!0}),o=new l.default;return o.use((0,c.default)(":method :url :status :response-time ms - :res[content-length]",{stream:_.default.stream})),o.use(d.default.json({verify:function(t,e,n,r){n&&n.length&&(t.rawBody=n.toString(r||"utf8"))}})),o.use(d.default.urlencoded({extended:!1})),o.get("/login",function(t,e){e.redirect((0,i.default)((0,w.default)("PUBLIC_WT_URL"),"/admins/login"))}),o.use(g.routes.dashboardAdmins({secret:(0,w.default)("EXTENSION_SECRET"),audience:"urn:github-deploy",rta:(0,w.default)("AUTH0_RTA").replace("https://",""),domain:(0,w.default)("AUTH0_DOMAIN"),baseUrl:(0,w.default)("PUBLIC_WT_URL"),clientName:"github Deploy Extension",urlPrefix:"/admins",sessionStorageKey:"github-deploy:apiToken",scopes:["read:client_grants","create:client_grants","delete:client_grants","update:client_grants","read:clients","update:clients","delete:clients","create:clients","read:client_keys","update:client_keys","delete:client_keys","create:client_keys","read:connections","update:connections","delete:connections","create:connections","read:resource_servers","update:resource_servers","delete:resource_servers","create:resource_servers","read:rules","update:rules","delete:rules","create:rules","read:rules_configs","update:rules_configs","delete:rules_configs","read:email_provider","update:email_provider","delete:email_provider","create:email_provider","read:tenant_settings","update:tenant_settings","read:grants","delete:grants","read:guardian_factors","update:guardian_factors","read:email_templates","create:email_templates","update:email_templates"].join(" ")})),o.use("/app",l.default.static(a.default.join(e,"../dist"))),o.use("/",(0,m.default)(r)),o.use(g.middlewares.errorHandler(_.default.error.bind(_.default))),o}}).call(e,"/")},function(t,e,n){const r=n(84),o=n(97),i=n(2),u=n(60);t.exports=function(t){if(!t||"object"!=typeof t)throw new i.ArgumentError("Must provide the options");if(null===t.secret||void 0===t.secret)throw new i.ArgumentError("Must provide a valid secret");if("string"!=typeof t.secret||0===t.secret.length)throw new i.ArgumentError("The provided secret is invalid: "+t.secret);if(null===t.audience||void 0===t.audience)throw new i.ArgumentError("Must provide a valid secret");if("string"!=typeof t.audience||0===t.audience.length)throw new i.ArgumentError("The provided audience is invalid: "+t.audience);if(null===t.baseUrl||void 0===t.baseUrl)throw new i.ArgumentError("Must provide a valid base URL");if("string"!=typeof t.baseUrl||0===t.baseUrl.length)throw new i.ArgumentError("The provided base URL is invalid: "+t.baseUrl);const e=o({audience:t.audience,issuer:t.baseUrl,secret:t.secret,algorithms:["HS256"],credentialsRequired:t.credentialsRequired||!0});return function(n,r,o){e(n,r,function(e){return e?o(e):t.onLoginSuccess?t.onLoginSuccess(n,r,o):o()})}},t.exports.optional=function(e){const n=t.exports(e);return u(function(t){if(t&&t.headers&&t.headers.authorization&&0===t.headers.authorization.indexOf("Bearer "))try{const n=r(t.headers.authorization.split(" ")[1]);return n&&n.iss===e.baseUrl}catch(t){return!1}return!1},n)}},function(t,e,n){const r=n(84),o=n(97),i=n(184),u=n(2),a=n(60),s=n(2).UnauthorizedError;t.exports=function(t){if(!t||"object"!=typeof t)throw new u.ArgumentError("Must provide the options");if(null===t.domain||void 0===t.domain)throw new u.ArgumentError("Must provide a valid domain");if("string"!=typeof t.domain||0===t.domain.length)throw new u.ArgumentError("The provided domain is invalid: "+t.domain);if(null===t.audience||void 0===t.audience)throw new u.ArgumentError("Must provide a valid audience");if("string"!=typeof t.audience||0===t.audience.length)throw new u.ArgumentError("The provided audience is invalid: "+t.audience);const e=o({secret:i.expressJwtSecret({cache:!0,rateLimit:!0,jwksRequestsPerMinute:5,jwksUri:"https://"+t.domain+"/.well-known/jwks.json",handleSigningKeyError:function(t,e){return e(t instanceof i.SigningKeyNotFoundError?new s("A token was provided with an invalid kid"):t)}}),audience:t.audience,issuer:"https://"+t.domain+"/",algorithms:["RS256"],credentialsRequired:t&&t.credentialsRequired||!0});return function(n,r,o){e(n,r,function(e){return e?o(e):t.onLoginSuccess?t.onLoginSuccess(n,r,o):o()})}},t.exports.optional=function(e){const n=t.exports(e);return a(function(t){if(t&&t.headers&&t.headers.authorization&&0===t.headers.authorization.indexOf("Bearer "))try{const n=r(t.headers.authorization.split(" ")[1]);return n&&n.iss==="https://"+e.domain+"/"}catch(t){return!1}return!1},n)}},function(t,e,n){t.exports=function(t){return function(e,n,r,o){return t&&t(e),e&&e.status?(r.status(e.status),r.json({error:e.code||e.name,message:e.message||e.name})):(r.status(e.status||500),r.json({error:"InternalServerError",message:e.message||e.name}))}}},function(t,e,n){t.exports.authenticateAdmins=n(101),t.exports.authenticateUsers=n(102),t.exports.requireAuthentication=n(106),t.exports.errorHandler=n(103),t.exports.managementApiClient=n(105),t.exports.validateHookToken=n(107),t.exports.webtaskConfig=n(108)},function(t,e,n){const r=n(2);t.exports=function(t){return function(e,n,o){const i=e,u=e.user&&e.user.access_token&&e.user.access_token.length,a=u?{domain:t.domain,accessToken:e.user.access_token}:t;r.managementApi.getClient(a).then(function(t){return i.auth0=t,o(),null}).catch(function(t){o(t)})}}},function(t,e,n){const r=n(2).UnauthorizedError;t.exports=function(t,e,n){return t.user?n():n(new r("Authentication required for this endpoint."))}},function(t,e,n){const r=n(2);t.exports=function(t,e,n){if(null===t||void 0===t)throw new r.ArgumentError("Must provide the domain");if("string"!=typeof t||0===t.length)throw new r.ArgumentError("The provided domain is invalid: "+t);if(null===e||void 0===e)throw new r.ArgumentError("Must provide the webtaskUrl");if("string"!=typeof e||0===e.length)throw new r.ArgumentError("The provided webtaskUrl is invalid: "+e);if(null===n||void 0===n)throw new r.ArgumentError("Must provide the extensionSecret");if("string"!=typeof n||0===n.length)throw new r.ArgumentError("The provided extensionSecret is invalid: "+n);return function(o){if(null===o||void 0===o)throw new r.ArgumentError("Must provide the hookPath");if("string"!=typeof o||0===o.length)throw new r.ArgumentError("The provided hookPath is invalid: "+o);return function(i,u,a){if(i.headers.authorization&&"Bearer"===i.headers.authorization.split(" ")[0]){const s=i.headers.authorization.split(" ")[1];try{if(r.validateHookToken(t,e,o,n,s))return a()}catch(t){return a(t)}}return a(new r.HookTokenError("Hook token missing for the call to: "+o))}}}},function(t,e,n){const r=n(2);t.exports=function(t){return function(e,n,o){return e.webtaskContext&&t.setProvider(r.configProvider.fromWebtaskContext(e.webtaskContext)),o()}}},function(t,e,n){const r=n(5),o=n(96),i=n(136),u=n(250),a=n(2),s=n(58);t.exports=function(t){if(!t||"object"!=typeof t)throw new a.ArgumentError("Must provide the options");if(null===t.secret||void 0===t.secret)throw new a.ArgumentError("Must provide a valid secret");if("string"!=typeof t.secret||0===t.secret.length)throw new a.ArgumentError("The provided secret is invalid: "+t.secret);if(null===t.audience||void 0===t.audience)throw new a.ArgumentError("Must provide a valid audience");if("string"!=typeof t.audience||0===t.audience.length)throw new a.ArgumentError("The provided audience is invalid: "+t.audience);if(null===t.rta||void 0===t.rta)throw new a.ArgumentError("Must provide a valid rta");if("string"!=typeof t.rta||0===t.rta.length)throw new a.ArgumentError("The provided rta is invalid: "+t.rta);if(null===t.domain||void 0===t.domain)throw new a.ArgumentError("Must provide a valid domain");if("string"!=typeof t.domain||0===t.domain.length)throw new a.ArgumentError("The provided domain is invalid: "+t.domain);if(null===t.baseUrl||void 0===t.baseUrl)throw new a.ArgumentError("Must provide a valid base URL");if("string"!=typeof t.baseUrl||0===t.baseUrl.length)throw new a.ArgumentError("The provided base URL is invalid: "+t.baseUrl);if(null===t.clientName||void 0===t.clientName)throw new a.ArgumentError("Must provide a valid client name");if("string"!=typeof t.clientName||0===t.clientName.length)throw new a.ArgumentError("The provided client name is invalid: "+t.clientName);if(void 0!==t.storageType&&"sessionStorage"!==t.storageType&&"localStorage"!==t.storageType)throw new a.ArgumentError('The storageType must be either "sessionStorage" or "localStorage". Incorrect storageType: '+t.storageType);const e=t.stateKey||"state",n=t.nonceKey||"nonce",c=t.urlPrefix||"",f=t.storageType||"sessionStorage",l=t.storageKey||t.sessionStorageKey||"apiToken",p=new a.SessionManager(t.rta,t.domain,t.baseUrl),d=r.Router();return d.get(c+"/login",function(r,i){const u=s.getBasePath(r),a=o.randomBytes(16).toString("hex"),f=o.randomBytes(16).toString("hex");i.cookie(e,a,{path:u}),i.cookie(n,f,{path:u});const l=p.createAuthorizeUrl({redirectUri:s.getBaseUrl(r)+c+"/login/callback",scopes:t.scopes,expiration:t.expiration,nonce:f,state:a});i.redirect(l)}),d.post(c+"/login/callback",i(),function(r,o,i){var c;try{c=u.decode(r.body.id_token)}catch(t){c=null}if(!c)return i(new a.ValidationError("Login failed. Invalid token."));if(!r.cookies||r.cookies[n]!==c.nonce)return i(new a.ValidationError("Login failed. Nonce mismatch."));if(!r.cookies||r.cookies[e]!==r.body.state)return i(new a.ValidationError("Login failed. State mismatch."));const d=s.getBasePath(r);return p.create(r.body.id_token,r.body.access_token,{secret:t.secret,issuer:t.baseUrl,audience:t.audience,noAccessToken:t.noAccessToken}).then(function(t){o.clearCookie(e,{path:d}),o.clearCookie(n,{path:d}),o.header("Content-Type","text/html"),o.status(200).send('<html><head><script type="text/javascript">'+f+'.setItem("'+l+'", "'+t+'");window.location.href = "'+s.getBaseUrl(r)+'";<\/script></head></html>')}).catch(function(t){i(t)})}),d.get(c+"/logout",function(r,o){const i=s.getBasePath(r),u=encodeURIComponent(s.getBaseUrl(r));o.clearCookie(e,{path:i}),o.clearCookie(n,{path:i}),o.header("Content-Type","text/html"),o.status(200).send('<html><head><script type="text/javascript">'+f+'.removeItem("'+l+'");window.location.href = "https://'+t.rta+"/v2/logout/?returnTo="+u+"&client_id="+u+'";<\/script></head></html>')}),d.get("/.well-known/oauth2-client-configuration",function(e,n){n.header("Content-Type","application/json"),n.status(200).send({redirect_uris:[s.getBaseUrl(e)+c+"/login/callback"],client_name:t.clientName,post_logout_redirect_uris:[s.getBaseUrl(e)]})}),d}},function(t,e,n){t.exports.dashboardAdmins=n(109)},function(t,e,n){const r=n(2),o=n(255);t.exports.createServer=function(t){const e=r.createServer(t);var n=null;return o.fromExpress(function(t,r){return n||(n=e(t.webtaskContext)),n(t,r)})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return e?new i.default(function(n,r){a.default.post(e).send(t).set("Accept","application/json").end(function(t){return t?r(t):n()})}):i.default.resolve()};var o=n(18),i=r(o),u=n(99),a=r(u)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(96),i=r(o),u=n(2),a=n(35),s=n(4),c=r(s),f=function(t,e){return"sha1="+i.default.createHmac("sha1",t).update(new Buffer(e,"utf-8")).digest("hex")},l=function(t,e){var n=e.ref,r=void 0===n?"":n,o=e.commits,i=void 0===o?[]:o,u=e.head_commit,a=void 0===u?{}:u,s=e.repository,c=void 0===s?{}:s,f=e.sender,l=void 0===f?{}:f,p=r.replace(/^refs\/heads\//i,"");return{id:t["x-github-delivery"],event:t["x-github-event"],branch:p,commits:i,repository:c.full_name,user:l.login,sha:a.id}};t.exports=function(){return function(t,e,n){if(!t.headers["x-github-delivery"])return n(new u.ArgumentError("The GitHub delivery identifier is missing."));if(!t.headers["x-github-event"])return n(new u.ArgumentError("The GitHub event name is missing."));if(f((0,c.default)("EXTENSION_SECRET"),t.rawBody)!==t.headers["x-hub-signature"])return n(new u.UnauthorizedError("The GitHub webhook signature is incorrect."));var r=l(t.headers,t.body);return"push"!==r.event?e.status(202).json({message:"Request ignored, the '"+r.event+"' event is not supported."}):r.branch!==(0,c.default)("BRANCH")?e.status(202).json({message:"Request ignored, '"+r.branch+"' is not the active branch."}):(0,a.hasChanges)(r.commits)?(t.webhook=r,n()):e.status(202).json({message:"Request ignored, none of the Rules or Database Connection scripts were changed."})}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(66),i=r(o);e.default=function(t,e){var n=(0,i.default)({},e.repo,{error:e.error,warnings:[],logs:m(e.progress),date:new Date});return c.default.all([(0,v.default)(n,(0,l.default)("WT_URL")+"/login",(0,l.default)("SLACK_INCOMING_WEBHOOK_URL")).catch(function(t){return n.warnings.push({title:"Error sending report to Slack",message:t}),c.default.resolve()}),(0,y.default)(n,(0,l.default)("REPORT_WEBHOOK")).catch(function(t){return n.warnings.push({title:"Error sending report to "+(0,l.default)("REPORT_WEBHOOK"),message:t}),c.default.resolve()})]).then(function(){return(0,d.default)(t,n)})};var u=n(12),a=r(u),s=n(18),c=r(s),f=n(4),l=r(f),p=n(63),d=r(p),h=n(115),v=r(h),g=n(112),y=r(g),m=function(t){return t?a.default.pickBy(t,function(t){return t.deleted+t.created+t.updated>0}):null}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(!n)return a.default.resolve();var r=f(t,e);return new a.default(function(t,e){c.default.post(n).send(r).set("Accept","application/json").end(function(n){return n?e(n):t()})})};var o=n(12),i=r(o),u=n(18),a=r(u),s=n(99),c=r(s),f=function(t,e){var n={username:"auth0-deployments",icon_emoji:":rocket:",attachments:[]},r=i.default.capitalize("github"),o={fallback:r+" to Auth0 Deployment",text:r+" to Auth0 Deployment",fields:[{title:"Repository",value:t.repository,short:!0},{title:"Branch",value:t.branch,short:!0},{title:"ID",value:t.id,short:!0},{title:"Commit",value:t.sha,short:!0}],error_field:{title:"Error",value:t.error||null,short:!1}},u="(<"+e+"|Details>)",a=o.fields;return t.error?(a.push(o.error_field),n.attachments.push({color:"#F35A00",fallback:o.fallback+" failed: "+(t.error.message||t.error),text:o.text+" failed: "+u,fields:o.fields})):(t.logs&&i.default.forEach(t.logs,function(t,e){i.default.forEach(t,function(t,n){t&&a.push({title:e+" "+n,value:t,short:!0})})}),n.attachments.push({color:"#7CD197",fallback:o.fallback,text:o.fallback+" "+u,fields:a})),n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(67),i=r(o),u=n(66),a=r(u),s=n(12),c=r(s),f=n(57),l=r(f),p=n(18),d=r(p),h=n(2),v=n(55),g=n(61),y=r(g),m=n(4),b=r(m),_=n(19),x=r(_),w=function(){var t=(0,b.default)("BASE_DIR")||"";return t.startsWith("/")&&(t=t.slice(1)),""===t||t.endsWith("/")||(t+="/"),t},E=function(){return"tfvc"===(0,b.default)("TYPE")?(0,b.default)("PROJECT_PATH"):w()},S=function(t){return 0===t.indexOf(l.default.join(E(),v.constants.RULES_DIRECTORY)+"/")},k=function(t){return 0===t.indexOf(l.default.join(E(),v.constants.DATABASE_CONNECTIONS_DIRECTORY)+"/")},O=function(t,e,n){return 0===t.indexOf(l.default.join(E(),e)+"/")&&n.indexOf(t.split("/").pop())>=0},j=function(t){return t===l.default.join(E(),v.constants.EMAIL_TEMPLATES_DIRECTORY,"provider.json")},T=function(t,e){return 0===t.indexOf(l.default.join(E(),e)+"/")},A=function(t){"tfvc"===(0,b.default)("TYPE")&&(t=t.replace((0,b.default)("PROJECT_PATH")+"/",""));var e=t.split("/"),n=e.length;if(n>=3&&/\.js$/i.test(e[n-1])){var r=l.default.parse(e[n-1]).name;if(v.constants.DATABASE_SCRIPTS.indexOf(r)>-1)return{database:e[n-2],name:l.default.parse(r).name}}return null},R=function(t){"tfvc"===(0,b.default)("TYPE")&&(t=t.replace((0,b.default)("PROJECT_PATH")+"/",""));var e=t.split("/"),n=e.length;return n>=3&&"settings.json"===e[n-1]?{database:e[n-2],name:"settings"}:null},P=function(t){if(O(t,v.constants.PAGES_DIRECTORY,v.constants.PAGE_NAMES))return!0;if(O(t,v.constants.EMAIL_TEMPLATES_DIRECTORY,v.constants.EMAIL_TEMPLATES_NAMES))return!0;if(j(t))return!0;if(S(t))return/\.(js|json)$/i.test(t);if(T(t,v.constants.CLIENTS_DIRECTORY))return/\.(js|json)$/i.test(t);if(T(t,v.constants.CLIENTS_GRANTS_DIRECTORY))return/\.(js|json)$/i.test(t);if(T(t,v.constants.CONNECTIONS_DIRECTORY))return/\.(js|json)$/i.test(t);if(T(t,v.constants.RESOURCE_SERVERS_DIRECTORY))return/\.(js|json)$/i.test(t);if(T(t,v.constants.RULES_CONFIGS_DIRECTORY))return/\.(js|json)$/i.test(t);if(k(t)){var e=!!A(t),n=!!R(t);return e||n}return!1},C=function(t){var e={};return c.default.filter(t,function(t){return k(t.path)}).forEach(function(t){var n=A(t.path),r=R(t.path);n&&(e[n.database]=e[n.database]||[],e[n.database].push((0,a.default)({},n,{id:t.id,sha:t.sha,path:t.path}))),r&&(e[r.database]=e[r.database]||[],e[r.database].push((0,a.default)({},r,{id:t.id,sha:t.sha,path:t.path})))}),e},I=function(t,e){var n={};return c.default.filter(t,function(t){return T(t.path,e)}).forEach(function(t){var e=!1,r=l.default.parse(t.path).name;".json"===l.default.parse(t.path).ext&&(r.endsWith(".meta")&&(r=l.default.parse(r).name,e=!0),n[r]=n[r]||{},e?n[r].metadataFile=t:n[r].configFile=t,n[r].sha=t.sha,n[r].path=t.path)}),n},M=function(t,e,n){var r={};return c.default.filter(t,function(t){return O(t.path,e,n)}).forEach(function(t){var e=l.default.parse(t.path).name,n=l.default.parse(t.path).ext;r[e]=r[e]||{},".json"!==n?(r[e].file=t,r[e].sha=t.sha,r[e].path=t.path):(r[e].meta_file=t,r[e].meta_sha=t.sha,r[e].meta_path=t.path)}),r},N=function(t){var e={};return c.default.filter(t,function(t){return S(t.path)}).forEach(function(t){var n=l.default.parse(t.path).name;e[n]=e[n]||{},/\.js$/i.test(t.path)?(e[n].script=!0,e[n].scriptFile=t):/\.json$/i.test(t.path)&&(e[n].metadata=!0,e[n].metadataFile=t)}),e},U=function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){x.default.info("Cannot extract data from:\n"+t)}return t||{}},F=function(t,e){switch(e){default:case"rules":var n=U(t.metadataFile),r=n.order,o=void 0===r?0:r,i=n.enabled,u=n.stage,s=void 0===u?"login_success":u;return{script:t.scriptFile,name:t.name,order:o,stage:s,enabled:i};case"pages":var f=U(t.metadataFile),l=f.enabled;return{html:t.htmlFile,name:t.name,enabled:l};case"emailTemplates":if("provider"===t.name)return null;var p=U(t.metadataFile);return(0,a.default)({},p,{body:t.htmlFile});case"clientGrants":case"emailProvider":var d=U(t.configFile);return(0,a.default)({},d);case"databases":var h=U(t.settings),v={},g=h.options||{};return c.default.forEach(t.scripts,function(t){v[t.name]=t.scriptFile}),t.scripts&&t.scripts.length&&(g.customScripts=v,g.enabledDatabaseCustomization=!0),(0,a.default)({},h,{options:g,strategy:"auth0",name:t.name});case"resourceServers":case"connections":case"clients":var y=U(t.metadataFile),m=U(t.configFile);return(0,a.default)({name:t.name},y,m);case"rulesConfigs":var b=U(t.configFile);return{key:t.name,value:b.value}}},L=function(t){var e={};if(c.default.forEach(t,function(t,n){e[n]=[],Array.isArray(t)?c.default.forEach(t,function(t){var r=F(t,n);r&&e[n].push(r)}):e[n]=F(t,n)}),!0===(0,b.default)("ENABLE_CIPHER")||"true"===(0,b.default)("ENABLE_CIPHER")){return new y.default((0,b.default)("CIPHER_PASSWORD")).processData(e).then(function(){return e})}return d.default.resolve(e)},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split("/");if(2===e.length){var n=(0,i.default)(e,2);return{user:n[0],repo:n[1]}}if(5===e.length){var r=(0,i.default)(e,5);return{user:r[3],repo:r[4]}}throw new h.ArgumentError("Invalid repository: "+t)},D=function(t){return new d.default(function(e){var n=B((0,b.default)("REPOSITORY")),r=n.user,o=n.repo,i=r+"/"+o;return e({id:"manual",branch:(0,b.default)("BRANCH"),sha:t.body&&t.body.sha||(0,b.default)("BRANCH"),user:t.user.sub,repository:i})})};t.exports={unifyData:L,getBaseDir:w,getPrefix:E,isRule:S,isDatabaseConnection:k,isTemplate:O,isEmailProvider:j,isConfigurable:T,getDatabaseFiles:C,getConfigurablesFiles:I,getTplFiles:M,getRulesFiles:N,validFilesOnly:P,getOptions:D,parseRepo:B}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),i=r(o),u=n(5),a=r(u),s=n(13),c=n(123),f=r(c),l=n(122),p=r(l),d=n(62),h=r(d),v=n(4),g=r(v),y=n(61),m=r(y),b=n(35),_=b.getOptions,x=function(t){return t.read().then(function(t){return t.isNotified=!0,t}).then(function(e){return t.write(e)})};e.default=function(t){var e=new m.default((0,g.default)("CIPHER_PASSWORD")),n=a.default.Router();return n.use(s.middlewares.authenticateAdmins({credentialsRequired:!0,secret:(0,g.default)("EXTENSION_SECRET"),audience:"urn:github-deploy",baseUrl:(0,g.default)("PUBLIC_WT_URL"),onLoginSuccess:function(t,e,n){n()}})),n.use(s.middlewares.managementApiClient({domain:(0,g.default)("AUTH0_DOMAIN"),clientId:(0,g.default)("AUTH0_CLIENT_ID"),clientSecret:(0,g.default)("AUTH0_CLIENT_SECRET")})),n.use("/rules",(0,f.default)(t)),n.use("/resourceServers",(0,p.default)(t)),n.post("/notified",function(e,n,r){x(t).then(function(){return n.status(204).send()}).catch(r)}),n.get("/config",function(e,n,r){t.read().then(function(n){return n.isNotified?{showNotification:!1,branch:(0,g.default)("BRANCH")||(0,g.default)("PROJECT_PATH"),secret:(0,g.default)("EXTENSION_SECRET"),repository:(0,g.default)("REPOSITORY"),prefix:(0,g.default)("INSTANCE")}:e.auth0.rules.get().then(function(e){var n={showNotification:!1,branch:(0,g.default)("BRANCH")||(0,g.default)("PROJECT_PATH"),secret:(0,g.default)("EXTENSION_SECRET"),repository:(0,g.default)("REPOSITORY"),prefix:(0,g.default)("INSTANCE")};return e&&e.length?n.showNotification=!0:x(t),n})}).then(function(t){return n.json(t)}).catch(r)}),n.get("/deployments",function(e,n,r){return t.read().then(function(t){return n.json(i.default.orderBy(t.deployments||[],["date"],["desc"]))}).catch(r)}),n.post("/deployments",function(e,n,r){return _(e).then(function(n){return(0,h.default)(t,e.auth0,n)}).then(function(t){return n.json(t)}).catch(r)}),n.post("/cipher",function(t,n,r){return e.encrypt(t.body.text).then(function(t){return n.json({result:t})}).catch(r)}),n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=n(2),u=n(13),a=n(4),s=r(a),c=n(19),f=r(c);e.default=function(){var t=(0,o.Router)(),e=u.middlewares.validateHookToken((0,s.default)("AUTH0_DOMAIN"),(0,s.default)("WT_URL"),(0,s.default)("EXTENSION_SECRET"));return t.use("/on-uninstall",e("/.extensions/on-uninstall")),t.delete("/on-uninstall",function(t,e){f.default.debug("Uninstall running...");var n=(0,s.default)("AUTH0_CLIENT_ID"),r={domain:(0,s.default)("AUTH0_DOMAIN"),clientSecret:(0,s.default)("AUTH0_CLIENT_SECRET"),clientId:n};i.managementApi.getClient(r).then(function(t){return t.clients.delete({client_id:n})}).then(function(){f.default.debug("Deleted client "+(0,s.default)("AUTH0_CLIENT_ID")),e.sendStatus(204)}).catch(function(t){f.default.debug("Error deleting client: "+(0,s.default)("AUTH0_CLIENT_ID")),f.default.error(t),e.sendStatus(204)})}),t}},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(248),i=r(o),u=n(247),a=r(u),s=n(57),c=r(s),f=n(13),l=n(4),p=r(l);e.default=function(){var e='\n  <!DOCTYPE html>\n  <html lang="en">\n  <head>\n    <title>Auth0 - Deployment Extension</title>\n    <meta charset="UTF-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <link rel="shortcut icon" href="https://cdn.auth0.com/styleguide/4.6.13/lib/logos/img/favicon.png">\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styles/zocial.min.css">\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/manage/v0.3.1715/css/index.min.css">\n    <link rel="stylesheet" type="text/css" href="https://cdn.auth0.com/styleguide/4.6.13/index.css">\n    <% if (assets.style) { %><link rel="stylesheet" type="text/css" href="/app/<%= assets.style %>"><% } %>\n    <% if (assets.version) { %><link rel="stylesheet" type="text/css" href="//cdn.auth0.com/extensions/auth0-deploy-extensions/assets/auth0-deploy-extensions.ui.<%= assets.version %>.css"><% } %>\n  </head>\n  <body class="a0-extension">\n    <div id="app"></div>\n    <script type="text/javascript" src="//cdn.auth0.com/js/lock-9.0.min.js"><\/script>\n    <script type="text/javascript" src="//cdn.auth0.com/manage/v0.3.1715/js/bundle.js"><\/script>\n    <script type="text/javascript">window.config = <%- JSON.stringify(config) %>;<\/script>\n    <% if (assets.vendors) { %><script type="text/javascript" src="/app/<%= assets.vendors %>"><\/script><% } %>\n    <% if (assets.app) { %><script type="text/javascript" src="//localhost:3000/app/<%= assets.app %>"><\/script><% } %>\n    <% if (assets.version) { %>\n    <script type="text/javascript" src="//cdn.auth0.com/extensions/auth0-deploy-extensions/assets/auth0-deploy-extensions.ui.vendors.<%= assets.version %>.js"><\/script>\n    <script type="text/javascript" src="//cdn.auth0.com/extensions/auth0-deploy-extensions/assets/auth0-deploy-extensions.ui.<%= assets.version %>.js"><\/script>\n    <% } %>\n  </body>\n  </html>\n  ';return function(n,r){var o={AUTH0_DOMAIN:(0,p.default)("AUTH0_DOMAIN"),BASE_URL:f.urlHelpers.getBaseUrl(n),BASE_PATH:f.urlHelpers.getBasePath(n),AUTH0_MANAGE_URL:(0,p.default)("AUTH0_MANAGE_URL")||"http://manage.auth0.com",A0EXT_PROVIDER:"github",ENABLE_CIPHER:!0===(0,p.default)("ENABLE_CIPHER")||"true"===(0,p.default)("ENABLE_CIPHER")},u={default:"1.2.0"}&&({default:"1.2.0"}.github||{default:"1.2.0"}.default);return u?r.send(a.default.render(e,{config:o,assets:{version:u}})):i.default.readFile(c.default.join(t,"../../dist/manifest.json"),"utf8",function(t,n){var i={config:o,assets:{app:"bundle.js"}};!t&&n&&(i.assets=JSON.parse(n)),r.send(a.default.render(e,i))})}}}).call(e,"/")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=n(117),u=r(i),a=n(119),s=r(a),c=n(121),f=r(c),l=n(118),p=r(l),d=n(124),h=r(d);e.default=function(t){var e=(0,o.Router)();return e.use("/.extensions",(0,p.default)()),e.get("/",(0,s.default)()),e.use("/meta",(0,f.default)()),e.use("/webhooks",(0,h.default)(t)),e.use("/api",(0,u.default)(t)),e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),u=n(183),a=r(u);e.default=function(){var t=i.default.Router();return t.get("/",function(t,e){e.status(200).send(a.default)}),t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),i=r(o),u=n(5),a=r(u);e.default=function(t){var e=a.default.Router();return e.get("/",function(e,n,r){e.auth0.resourceServers.get().then(function(e){t.read().then(function(t){var r={},o=i.default.filter(e,function(t){return!t.is_system});t&&t.excluded_resource_servers?i.default.forEach(o,function(e){r[e.name]=t.excluded_resource_servers.indexOf(e.name)>=0}):i.default.forEach(o,function(t){r[t.name]=!1}),n.json(r)}).catch(r)}).catch(r)}),e.post("/",function(e,n,r){var o=e.body.names||[];t.read().then(function(t){return t.excluded_resource_servers=o,t.excluded_resource_servers=o,t}).then(function(e){return t.write(e)}).then(function(){return n.status(200).send()}).catch(r)}),e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),i=r(o),u=n(5),a=r(u);e.default=function(t){var e=a.default.Router();return e.get("/",function(e,n,r){e.auth0.rules.get().then(function(e){t.read().then(function(t){var r={};t&&t.excluded_rules?i.default.forEach(e,function(e){r[e.name]=t.excluded_rules.indexOf(e.name)>=0}):i.default.forEach(e,function(t){r[t.name]=!1}),n.json(r)}).catch(r)}).catch(r)}),e.post("/",function(e,n,r){var o=e.body.names||[];t.read().then(function(t){return t.excluded_rules=o,t}).then(function(e){return t.write(e)}).then(function(){return n.status(201).send()}).catch(r)}),e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=r(o),u=n(13),a=n(4),s=r(a),c=n(62),f=r(c),l=n(113);e.default=function(t){var e=i.default.Router();return e.use(u.middlewares.managementApiClient({domain:(0,s.default)("AUTH0_DOMAIN"),clientId:(0,s.default)("AUTH0_CLIENT_ID"),clientSecret:(0,s.default)("AUTH0_CLIENT_SECRET")})),e.post("/deploy/:secret?",l(),function(e,n){return n.status(202).json({message:"Request accepted, deployment started."}),(0,f.default)(t,e.auth0,e.webhook)}),e}},function(t,e,n){"use strict";var r=n(13),o=n(100),i=n(4),u=n(19),a=r.createServer(function(t,e){return u.info("Starting Bitbucket Deploy extension - Version:","2.7.0"),o(t,e)});t.exports=function(t,e,n){e.x_wt&&e.x_wt.ectx&&e.x_wt.ectx.PUBLIC_WT_URL||!1||i.setValue("PUBLIC_WT_URL",r.urlHelpers.getWebtaskUrl(e)),a(t,e,n)}},function(t,e,n){t.exports={default:n(138),__esModule:!0}},function(t,e,n){t.exports={default:n(139),__esModule:!0}},function(t,e,n){t.exports={default:n(140),__esModule:!0}},function(t,e,n){t.exports={default:n(141),__esModule:!0}},function(t,e,n){t.exports={default:n(142),__esModule:!0}},function(t,e,n){t.exports={default:n(145),__esModule:!0}},function(t,e,n){t.exports={default:n(146),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(130),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(132),i=r(o),u=n(131),a=r(u),s="function"==typeof a.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t};e.default="function"==typeof a.default&&"symbol"===s(i.default)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":void 0===t?"undefined":s(t)}},function(t,e,n){"use strict";function r(t,e){return function(n,r,o){if(n.cookies)return o();var u=n.headers.cookie,c=!t||Array.isArray(t)?t||[]:[t];if(n.secret=c[0],n.cookies=Object.create(null),n.signedCookies=Object.create(null),!u)return o();n.cookies=s.parse(u,e),0!==c.length&&(n.signedCookies=a(n.cookies,c),n.signedCookies=i(n.signedCookies)),n.cookies=i(n.cookies),o()}}function o(t){if("string"==typeof t&&"j:"===t.substr(0,2))try{return JSON.parse(t.slice(2))}catch(t){return}}function i(t){for(var e,n,r=Object.keys(t),i=0;i<r.length;i++)e=r[i],(n=o(t[e]))&&(t[e]=n);return t}function u(t,e){if("string"==typeof t){if("s:"!==t.substr(0,2))return t;for(var n=!e||Array.isArray(e)?e||[]:[e],r=0;r<n.length;r++){var o=c.unsign(t.slice(2),n[r]);if(!1!==o)return o}return!1}}function a(t,e){for(var n,r,o,i=Object.keys(t),a=Object.create(null),s=0;s<i.length;s++)r=i[s],o=t[r],n=u(o,e),o!==n&&(a[r]=n,delete t[r]);return a}var s=n(137),c=n(246);t.exports=r,t.exports.JSONCookie=o,t.exports.JSONCookies=i,t.exports.signedCookie=u,t.exports.signedCookies=a},function(t,e,n){"use strict";function r(t,e){if("string"!=typeof t)throw new TypeError("argument str must be a string");for(var n={},r=e||{},o=t.split(s),a=r.decode||u,c=0;c<o.length;c++){var f=o[c],l=f.indexOf("=");if(!(l<0)){var p=f.substr(0,l).trim(),d=f.substr(++l,f.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==n[p]&&(n[p]=i(d,a))}}return n}function o(t,e,n){var r=n||{},o=r.encode||a;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!c.test(t))throw new TypeError("argument name is invalid");var i=o(e);if(i&&!c.test(i))throw new TypeError("argument val is invalid");var u=t+"="+i;if(null!=r.maxAge){var s=r.maxAge-0;if(isNaN(s))throw new Error("maxAge should be a Number");u+="; Max-Age="+Math.floor(s)}if(r.domain){if(!c.test(r.domain))throw new TypeError("option domain is invalid");u+="; Domain="+r.domain}if(r.path){if(!c.test(r.path))throw new TypeError("option path is invalid");u+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(u+="; HttpOnly"),r.secure&&(u+="; Secure"),r.sameSite){switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return u}function i(t,e){try{return e(t)}catch(e){return t}}e.parse=r,e.serialize=o;var u=decodeURIComponent,a=encodeURIComponent,s=/; */,c=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},function(t,e,n){n(31),n(30),t.exports=n(173)},function(t,e,n){n(31),n(30),t.exports=n(174)},function(t,e,n){var r=n(0),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,n){n(176),t.exports=n(0).Object.assign},function(t,e,n){n(177);var r=n(0).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){n(178),t.exports=n(0).Object.keys},function(t,e,n){n(79),n(30),n(31),n(179),t.exports=n(0).Promise},function(t,e,n){n(180),n(79),n(181),n(182),t.exports=n(0).Symbol},function(t,e,n){n(30),n(31),t.exports=n(48).f("iterator")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(11),o=n(77),i=n(172);t.exports=function(t){return function(e,n,u){var a,s=r(e),c=o(s.length),f=i(u,c);if(t&&n!=n){for(;c>f;)if((a=s[f++])!=a)return!0}else for(;c>f;f++)if((t||f in s)&&s[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(17),o=n(41),i=n(26);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var u,a=n(t),s=i.f,c=0;a.length>c;)s.call(t,u=a[c++])&&e.push(u);return e}},function(t,e,n){var r=n(24),o=n(155),i=n(153),u=n(6),a=n(77),s=n(78),c={},f={},e=t.exports=function(t,e,n,l,p){var d,h,v,g,y=p?function(){return t}:s(t),m=r(n,l,e?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(i(y)){for(d=a(t.length);d>b;b++)if((g=e?m(u(h=t[b])[0],h[1]):m(t[b]))===c||g===f)return g}else for(v=y.call(t);!(h=v.next()).done;)if((g=o(v,m,h.value,e))===c||g===f)return g};e.BREAK=c,e.RETURN=f},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(16),o=n(1)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(20);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(6);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){"use strict";var r=n(72),o=n(27),i=n(28),u={};n(10)(u,n(1)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(u,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(1)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],u=i[r]();u.next=function(){return{done:n=!0}},i[r]=function(){return u},t(i)}catch(t){}return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(17),o=n(11);t.exports=function(t,e){for(var n,i=o(t),u=r(i),a=u.length,s=0;a>s;)if(i[n=u[s++]]===e)return n}},function(t,e,n){var r=n(29)("meta"),o=n(21),i=n(9),u=n(8).f,a=0,s=Object.isExtensible||function(){return!0},c=!n(15)(function(){return s(Object.preventExtensions({}))}),f=function(t){u(t,r,{value:{i:"O"+ ++a,w:{}}})},l=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!s(t))return"F";if(!e)return"E";f(t)}return t[r].i},p=function(t,e){if(!i(t,r)){if(!s(t))return!0;if(!e)return!1;f(t)}return t[r].w},d=function(t){return c&&h.NEED&&s(t)&&!i(t,r)&&f(t),t},h=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:p,onFreeze:d}},function(t,e,n){var r=n(3),o=n(76).set,i=r.MutationObserver||r.WebKitMutationObserver,u=r.process,a=r.Promise,s="process"==n(20)(u);t.exports=function(){var t,e,n,c=function(){var r,o;for(s&&(r=u.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(s)n=function(){u.nextTick(c)};else if(i){var f=!0,l=document.createTextNode("");new i(c).observe(l,{characterData:!0}),n=function(){l.data=f=!f}}else if(a&&a.resolve){var p=a.resolve();n=function(){p.then(c)}}else n=function(){o.call(r,c)};return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){"use strict";var r=n(17),o=n(41),i=n(26),u=n(45),a=n(70),s=Object.assign;t.exports=!s||n(15)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=s({},t)[n]||Object.keys(s({},e)).join("")!=r})?function(t,e){for(var n=u(t),s=arguments.length,c=1,f=o.f,l=i.f;s>c;)for(var p,d=a(arguments[c++]),h=f?r(d).concat(f(d)):r(d),v=h.length,g=0;v>g;)l.call(d,p=h[g++])&&(n[p]=d[p]);return n}:s},function(t,e,n){var r=n(8),o=n(6),i=n(17);t.exports=n(7)?Object.defineProperties:function(t,e){o(t);for(var n,u=i(e),a=u.length,s=0;a>s;)r.f(t,n=u[s++],e[n]);return t}},function(t,e,n){var r=n(26),o=n(27),i=n(11),u=n(46),a=n(9),s=n(69),c=Object.getOwnPropertyDescriptor;e.f=n(7)?c:function(t,e){if(t=i(t),e=u(e,!0),s)try{return c(t,e)}catch(t){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(11),o=n(73).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return o(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?a(t):o(r(t))}},function(t,e,n){var r=n(9),o=n(45),i=n(42)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var r=n(14),o=n(0),i=n(15);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],u={};u[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",u)}},function(t,e,n){var r=n(10);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},function(t,e,n){"use strict";var r=n(3),o=n(0),i=n(8),u=n(7),a=n(1)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];u&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(6),o=n(36),i=n(1)("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||void 0==(n=r(u)[i])?e:o(n)}},function(t,e,n){var r=n(44),o=n(38);t.exports=function(t){return function(e,n){var i,u,a=String(o(e)),s=r(n),c=a.length;return s<0||s>=c?t?"":void 0:(i=a.charCodeAt(s),i<55296||i>56319||s+1===c||(u=a.charCodeAt(s+1))<56320||u>57343?t?a.charAt(s):i:t?a.slice(s,s+2):u-56320+(i-55296<<10)+65536)}}},function(t,e,n){var r=n(44),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(6),o=n(78);t.exports=n(0).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(37),o=n(1)("iterator"),i=n(16);t.exports=n(0).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(r(e))}},function(t,e,n){"use strict";var r=n(147),o=n(158),i=n(16),u=n(11);t.exports=n(71)(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(14);r(r.S+r.F,"Object",{assign:n(162)})},function(t,e,n){var r=n(14);r(r.S+r.F*!n(7),"Object",{defineProperty:n(8).f})},function(t,e,n){var r=n(45),o=n(17);n(167)("keys",function(){return function(t){return o(r(t))}})},function(t,e,n){"use strict";var r,o,i,u=n(25),a=n(3),s=n(24),c=n(37),f=n(14),l=n(21),p=n(36),d=n(148),h=n(151),v=n(170),g=n(76).set,y=n(161)(),m=a.TypeError,b=a.process,_=a.Promise,b=a.process,x="process"==c(b),w=function(){},E=!!function(){try{var t=_.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(w,w)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(w)instanceof e}catch(t){}}(),S=function(t,e){return t===e||t===_&&e===i},k=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},O=function(t){return S(_,t)?new j(t):new o(t)},j=o=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw m("Bad Promise constructor");e=t,n=r}),this.resolve=p(e),this.reject=p(n)},T=function(t){try{t()}catch(t){return{error:t}}},A=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,o=1==t._s,i=0;n.length>i;)!function(e){var n,i,u=o?e.ok:e.fail,a=e.resolve,s=e.reject,c=e.domain;try{u?(o||(2==t._h&&C(t),t._h=1),!0===u?n=r:(c&&c.enter(),n=u(r),c&&c.exit()),n===e.promise?s(m("Promise-chain cycle")):(i=k(n))?i.call(n,a,s):a(n)):s(r)}catch(t){s(t)}}(n[i++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){g.call(a,function(){var e,n,r,o=t._v;if(P(t)&&(e=T(function(){x?b.emit("unhandledRejection",o,t):(n=a.onunhandledrejection)?n({promise:t,reason:o}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=x||P(t)?2:1),t._a=void 0,e)throw e.error})},P=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!P(e.promise))return!1;return!0},C=function(t){g.call(a,function(){var e;x?b.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},I=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),A(e,!0))},M=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw m("Promise can't be resolved itself");(e=k(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,s(M,r,1),s(I,r,1))}catch(t){I.call(r,t)}}):(n._v=t,n._s=1,A(n,!1))}catch(t){I.call({_w:n,_d:!1},t)}}};E||(_=function(t){d(this,_,"Promise","_h"),p(t),r.call(this);try{t(s(M,this,1),s(I,this,1))}catch(t){I.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(168)(_.prototype,{then:function(t,e){var n=O(v(this,_));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),j=function(){var t=new r;this.promise=t,this.resolve=s(M,t,1),this.reject=s(I,t,1)}),f(f.G+f.W+f.F*!E,{Promise:_}),n(28)(_,"Promise"),n(169)("Promise"),i=n(0).Promise,f(f.S+f.F*!E,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(u||!E),"Promise",{resolve:function(t){if(t instanceof _&&S(t.constructor,this))return t;var e=O(this);return(0,e.resolve)(t),e.promise}}),f(f.S+f.F*!(E&&n(157)(function(t){_.all(t).catch(w)})),"Promise",{all:function(t){var e=this,n=O(e),r=n.resolve,o=n.reject,i=T(function(){var n=[],i=0,u=1;h(t,!1,function(t){var a=i++,s=!1;n.push(void 0),u++,e.resolve(t).then(function(t){s||(s=!0,n[a]=t,--u||r(n))},o)}),--u||r(n)});return i&&o(i.error),n.promise},race:function(t){var e=this,n=O(e),r=n.reject,o=T(function(){h(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o&&r(o.error),n.promise}})},function(t,e,n){"use strict";var r=n(3),o=n(9),i=n(7),u=n(14),a=n(75),s=n(160).KEY,c=n(15),f=n(43),l=n(28),p=n(29),d=n(1),h=n(48),v=n(47),g=n(159),y=n(150),m=n(154),b=n(6),_=n(11),x=n(46),w=n(27),E=n(72),S=n(165),k=n(164),O=n(8),j=n(17),T=k.f,A=O.f,R=S.f,P=r.Symbol,C=r.JSON,I=C&&C.stringify,M=d("_hidden"),N=d("toPrimitive"),U={}.propertyIsEnumerable,F=f("symbol-registry"),L=f("symbols"),B=f("op-symbols"),D=Object.prototype,K="function"==typeof P,H=r.QObject,q=!H||!H.prototype||!H.prototype.findChild,J=i&&c(function(){return 7!=E(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=T(D,e);r&&delete D[e],A(t,e,n),r&&t!==D&&A(D,e,r)}:A,W=function(t){var e=L[t]=E(P.prototype);return e._k=t,e},z=K&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Y=function(t,e,n){return t===D&&Y(B,e,n),b(t),e=x(e,!0),b(n),o(L,e)?(n.enumerable?(o(t,M)&&t[M][e]&&(t[M][e]=!1),n=E(n,{enumerable:w(0,!1)})):(o(t,M)||A(t,M,w(1,{})),t[M][e]=!0),J(t,e,n)):A(t,e,n)},G=function(t,e){b(t);for(var n,r=y(e=_(e)),o=0,i=r.length;i>o;)Y(t,n=r[o++],e[n]);return t},$=function(t,e){return void 0===e?E(t):G(E(t),e)},V=function(t){var e=U.call(this,t=x(t,!0));return!(this===D&&o(L,t)&&!o(B,t))&&(!(e||!o(this,t)||!o(L,t)||o(this,M)&&this[M][t])||e)},X=function(t,e){if(t=_(t),e=x(e,!0),t!==D||!o(L,e)||o(B,e)){var n=T(t,e);return!n||!o(L,e)||o(t,M)&&t[M][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=R(_(t)),r=[],i=0;n.length>i;)o(L,e=n[i++])||e==M||e==s||r.push(e);return r},Z=function(t){for(var e,n=t===D,r=R(n?B:_(t)),i=[],u=0;r.length>u;)!o(L,e=r[u++])||n&&!o(D,e)||i.push(L[e]);return i};K||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===D&&e.call(B,n),o(this,M)&&o(this[M],t)&&(this[M][t]=!1),J(this,t,w(1,n))};return i&&q&&J(D,t,{configurable:!0,set:e}),W(t)},a(P.prototype,"toString",function(){return this._k}),k.f=X,O.f=Y,n(73).f=S.f=Q,n(26).f=V,n(41).f=Z,i&&!n(25)&&a(D,"propertyIsEnumerable",V,!0),h.f=function(t){return W(d(t))}),u(u.G+u.W+u.F*!K,{Symbol:P});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var tt=j(d.store),et=0;tt.length>et;)v(tt[et++]);u(u.S+u.F*!K,"Symbol",{for:function(t){return o(F,t+="")?F[t]:F[t]=P(t)},keyFor:function(t){if(z(t))return g(F,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){q=!0},useSimple:function(){q=!1}}),u(u.S+u.F*!K,"Object",{create:$,defineProperty:Y,defineProperties:G,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),C&&u(u.S+u.F*(!K||c(function(){var t=P();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!z(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&m(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!z(e))return e}),r[1]=e,I.apply(C,r)}}}),P.prototype[N]||n(10)(P.prototype,N,P.prototype.valueOf),l(P,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){n(47)("asyncIterator")},function(t,e,n){n(47)("observable")},function(t,e){t.exports={title:"GitHub Deployments",name:"auth0-github-deploy",version:"2.7.0",preVersion:"2.6.2",author:"auth0",description:"This extension gives Auth0 customers the possibility to deploy Pages, Rules and Custom Database Connections from GitHub.",type:"application",category:"source_control",docsUrl:"https://auth0.com/docs/extensions/github-deploy",logoUrl:"https://cdn.auth0.com/extensions/auth0-github-deploy/assets/logo.svg",initialUrlPath:"/login",uninstallConfirmMessage:"Do you really want to uninstall this extension? Doing so will stop any Pages, Rules and Database Connection scripts from being deployed from GitHub to Auth0",repository:"https://github.com/auth0-extensions/auth0-github-deploy",keywords:["auth0","extension","github"],auth0:{createClient:!0,onUninstallPath:"/.extensions/on-uninstall",scopes:"read:client_grants create:client_grants delete:client_grants update:client_grants read:clients update:clients delete:clients create:clients read:client_keys update:client_keys delete:client_keys create:client_keys read:connections update:connections delete:connections create:connections read:resource_servers update:resource_servers delete:resource_servers create:resource_servers read:rules update:rules delete:rules create:rules read:rules_configs update:rules_configs delete:rules_configs read:email_provider update:email_provider delete:email_provider create:email_provider read:tenant_settings update:tenant_settings read:grants delete:grants read:guardian_factors update:guardian_factors read:email_templates create:email_templates update:email_templates"},secrets:{REPOSITORY:{example:"myorganization/myrepo",description:"The repository from which you want to deploy rules and database scripts",required:!0},BRANCH:{description:"The branch we should monitor for commits",default:"master",required:!0},HOST:{description:"GitHub Enterprise host, leave empty for github.com",example:"github.my-company.com"},API_PATH:{description:"GitHub Enterprise API path prefix, leave empty for github.com",example:"/api/v3"},TOKEN:{description:"Your personal access token for GitHub",required:!0,type:"password"},BASE_DIR:{example:"settings/tenant",description:"Path to your tenant settings directories"},ENABLE_CIPHER:{description:"Enables support of encrypted secrets",type:"select",default:"false",allowMultiple:!1,options:[{value:"false",text:"No"},{value:"true",text:"Yes"}]},CIPHER_PASSWORD:{required:!0,description:"Password for encode/decode secrets",visibleIf:{ENABLE_CIPHER:"true"}},SLACK_INCOMING_WEBHOOK_URL:{example:"https://hooks.slack.com/services/...",description:"Webhook URL for Slack used to notify you of successful and failed deployments",required:!1}}}},function(t,e,n){"use strict";var r=n(32),o=n(33),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o),u=n(186),a=n(185),s=n(187);t.exports=function(t){return new r.JwksClient(t)},t.exports.ArgumentError=i.ArgumentError,t.exports.JwksError=i.JwksError,t.exports.JwksRateLimitError=i.JwksRateLimitError,t.exports.SigningKeyNotFoundError=i.SigningKeyNotFoundError,t.exports.expressJwtSecret=a.expressJwtSecret,t.exports.hapiJwt2Key=u.hapiJwt2Key,t.exports.hapiJwt2KeyAsync=u.hapiJwt2KeyAsync,t.exports.koaJwtSecret=s.koaJwtSecret},function(t,e,n){"use strict";var r=n(33),o=n(32),i=function(t,e){return t&&"SigningKeyNotFoundError"===t.name?e(null):t?e(t):void 0};t.exports.expressJwtSecret=function(t){if(null===t||void 0===t)throw new r.ArgumentError("An options object must be provided when initializing expressJwtSecret");var e=new o.JwksClient(t),n=t.handleSigningKeyError||i;return function(t,r,o,i){if(!r||"RS256"!==r.alg)return i(null,null);e.getSigningKey(r.kid,function(t,e){return t?n(t,function(t){return i(t,null)}):i(null,e.publicKey||e.rsaPublicKey)})}}},function(t,e,n){"use strict";var r=n(33),o=n(32),i=function(t,e){return t&&"SigningKeyNotFoundError"===t.name?e(null,null,null):t?e(t,null,null):void 0};t.exports.hapiJwt2KeyAsync=function(e){var n=t.exports.hapiJwt2Key(e);return function(t){return new Promise(function(e,r){n(t,function(t,n){!n||t?r(t):e({key:n})})})}},t.exports.hapiJwt2Key=function(t){if(null===t||void 0===t)throw new r.ArgumentError("An options object must be provided when initializing hapiJwt2Key");var e=new o.JwksClient(t),n=t.handleSigningKeyError||i;return function(t,r){return t&&t.header?"RS256"!==t.header.alg?r(null,null,null):void e.getSigningKey(t.header.kid,function(t,e){return t?n(t,function(t){return r(t,null,null)}):r(null,e.publicKey||e.rsaPublicKey,e)}):r(null,null,null)}}},function(t,e,n){"use strict";var r=n(33),o=n(32);t.exports.koaJwtSecret=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.jwksUri)throw new r.ArgumentError("No JWKS URI provided");var e=new o.JwksClient(t);return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.alg,o=n.kid;return new Promise(function(n,i){if("RS256"!==r)return i(new Error("Missing / invalid token algorithm"));e.getSigningKey(o,function(e,r){if(e)return t.handleSigningKeyError?t.handleSigningKeyError(e).then(i):i(e);n(r.publicKey||r.rsaPublicKey)})})}}},function(t,e,n){"use strict";function r(t){return t=t.match(/.{1,64}/g).join("\n"),t="-----BEGIN CERTIFICATE-----\n"+t+"\n-----END CERTIFICATE-----\n"}function o(t){var e=t[0];return e<"0"||e>"7"?"00"+t:t}function i(t){var e=t.toString(16);return e.length%2?"0"+e:e}function u(t){if(t<=127)return i(t);var e=i(t);return i(128+e.length/2)+e}function a(t,e){var n=new Buffer(t,"base64"),r=new Buffer(e,"base64"),i=o(n.toString("hex")),a=o(r.toString("hex")),s=i.length/2,c=a.length/2,f=u(s),l=u(c),p="30"+u(s+c+f.length/2+l.length/2+2)+"02"+f+i+"02"+l+a,d=new Buffer(p,"hex").toString("base64"),h="-----BEGIN RSA PUBLIC KEY-----\n";return h+=""+d.match(/.{1,64}/g).join("\n"),h+="\n-----END RSA PUBLIC KEY-----\n"}Object.defineProperty(e,"__esModule",{value:!0}),e.certToPEM=r,e.rsaPublicKeyToPEM=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:options,n=e.cacheMaxEntries,r=void 0===n?5:n,o=e.cacheMaxAge,u=void 0===o?(0,i.default)("10h"):o,s=(0,a.default)("jwks"),f=t.getSigningKey;return s("Configured caching of singing keys. Max: "+r+" / Age: "+u),(0,c.default)({load:function(t,e){f(t,function(n,r){return n?e(n):(s("Caching signing key for '"+t+"':",r),e(null,r))})},hash:function(t){return t},maxAge:u,max:r})};var o=n(253),i=r(o),u=n(56),a=r(u),s=n(251),c=r(s)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.rateLimitSigningKey=e.cacheSigningKey=void 0;var o=n(189),i=r(o),u=n(191),a=r(u);e.cacheSigningKey=i.default,e.rateLimitSigningKey=a.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:options,n=e.jwksRequestsPerMinute,r=void 0===n?10:n,o=(0,i.default)("jwks"),a=t.getSigningKey,c=new u.RateLimiter(r,"minute",!0);return o("Configured rate limiting to JWKS endpoint at "+r+"/minute"),function(t,e){c.removeTokens(1,function(n,r){return n?e(n):(o("Requests to the JWKS endpoint available for the next minute:",r),r<0?(o("Too many requests to the JWKS endpoint"),e(new s.default("Too many requests to the JWKS endpoint"))):a(t,e))})}};var o=n(56),i=r(o),u=n(194),a=n(82),s=r(a)},function(t,e){function n(t){this.message=t}function r(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,u=0,a=0,s="";i=e.charAt(a++);~i&&(r=u%4?64*r+i:i,u++%4)?s+=String.fromCharCode(255&r>>(-2*u&6)):0)i=o.indexOf(i);return s}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.name="InvalidCharacterError",t.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||r},function(t,e,n){function r(t){return decodeURIComponent(o(t).replace(/(.)/g,function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}var o=n(192);t.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return r(e)}catch(t){return o(e)}}},function(t,e,n){e.RateLimiter=n(196),e.TokenBucket=n(85)},function(t,e){var n=function(){if("undefined"!=typeof process&&process.hrtime){var t=process.hrtime(),e=t[0],n=t[1];return 1e3*e+Math.floor(n/1e6)}return(new Date).getTime()};t.exports=n},function(t,e,n){var r=n(85),o=n(195),i=function(t,e,n){this.tokenBucket=new r(t,t,e,null),this.tokenBucket.content=t,this.curIntervalStart=o(),this.tokensThisInterval=0,this.fireImmediately=n};i.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(t,e){function n(n,o){if(n)return e(n,null);r.tokensThisInterval+=t,e(null,o)}if(t>this.tokenBucket.bucketSize)return process.nextTick(e.bind(null,"Requested tokens "+t+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var r=this,i=o();if((i<this.curIntervalStart||i-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=i,this.tokensThisInterval=0),t>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)process.nextTick(e.bind(null,null,-1));else{var u=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-i);setTimeout(function(){r.tokenBucket.removeTokens(t,n)},u)}return!1}return this.tokenBucket.removeTokens(t,n)},tryRemoveTokens:function(t){if(t>this.tokenBucket.bucketSize)return!1;var e=o();if((e<this.curIntervalStart||e-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=e,this.tokensThisInterval=0),t>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var n=this.tokenBucket.tryRemoveTokens(t);return n&&(this.tokensThisInterval+=t),n},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},t.exports=i},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}t.exports=n},function(t,e,n){function r(t,e){var n=u(t),r=!n&&i(t),f=!n&&!r&&a(t),p=!n&&!r&&!f&&c(t),d=n||r||f||p,h=d?o(t.length,String):[],v=h.length;for(var g in t)!e&&!l.call(t,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||h.push(g);return h}var o=n(209),i=n(233),u=n(51),a=n(234),s=n(91),c=n(237),f=Object.prototype,l=f.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(202),o=n(215),i=o(r);t.exports=i},function(t,e,n){var r=n(216),o=r();t.exports=o},function(t,e,n){function r(t,e){return t&&o(t,e,i)}var o=n(201),i=n(54);t.exports=r},function(t,e,n){function r(t){return i(t)&&o(t)==u}var o=n(22),i=n(23),u="[object Arguments]";t.exports=r},function(t,e,n){function r(t){return!(!u(t)||i(t))&&(o(t)?h:c).test(a(t))}var o=n(52),i=n(222),u=n(53),a=n(229),s=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,f=Function.prototype,l=Object.prototype,p=f.toString,d=l.hasOwnProperty,h=RegExp("^"+p.call(d).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return u(t)&&i(t.length)&&!!a[o(t)]}var o=n(22),i=n(95),u=n(23),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=r},function(t,e,n){function r(t){if(!o(t))return i(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}var o=n(92),i=n(223),u=Object.prototype,a=u.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){return u(i(t,e,o),t+"")}var o=n(50),i=n(226),u=n(227);t.exports=r},function(t,e,n){var r=n(231),o=n(89),i=n(50),u=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=u},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){function r(t){return"function"==typeof t?t:o}var o=n(50);t.exports=r},function(t,e,n){function r(t,e,n,r){var u=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var c=e[a],f=r?r(n[c],t[c],c,n,t):void 0;void 0===f&&(f=t[c]),u?i(n,c,f):o(n,c,f)}return n}var o=n(87),i=n(88);t.exports=r},function(t,e,n){var r=n(49),o=r["__core-js_shared__"];t.exports=o},function(t,e,n){function r(t){return o(function(e,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(u=t.length>3&&"function"==typeof u?(o--,u):void 0,a&&i(n[0],n[1],a)&&(u=o<3?void 0:u,o=1),e=Object(e);++r<o;){var s=n[r];s&&t(e,s,r,u)}return e})}var o=n(207),i=n(221);t.exports=r},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!o(n))return t(n,r);for(var i=n.length,u=e?i:-1,a=Object(n);(e?u--:++u<i)&&!1!==r(a[u],u,a););return n}}var o=n(34);t.exports=r},function(t,e){function n(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var s=u[t?a:++o];if(!1===n(i[s],s,i))break}return e}}t.exports=n},function(t,e,n){function r(t,e){var n=i(t,e);return o(n)?n:void 0}var o=n(204),i=n(220);t.exports=r},function(t,e,n){var r=n(93),o=r(Object.getPrototypeOf,Object);t.exports=o},function(t,e,n){function r(t){var e=u.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}var o=n(86),i=Object.prototype,u=i.hasOwnProperty,a=i.toString,s=o?o.toStringTag:void 0;t.exports=r},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(t,e,n){if(!a(n))return!1;var r=typeof e;return!!("number"==r?i(n)&&u(e,n.length):"string"==r&&e in n)&&o(n[e],t)}var o=n(94),i=n(34),u=n(91),a=n(53);t.exports=r},function(t,e,n){function r(t){return!!i&&i in t}var o=n(213),i=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e,n){var r=n(93),o=r(Object.keys,Object);t.exports=o},function(t,e,n){(function(t){var r=n(90),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=i&&i.exports===o,a=u&&r.process,s=function(){try{return a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(e,n(59)(t))},function(t,e){function n(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=n},function(t,e,n){function r(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var r=arguments,u=-1,a=i(r.length-e,0),s=Array(a);++u<a;)s[u]=r[e+u];u=-1;for(var c=Array(e+1);++u<e;)c[u]=r[u];return c[e]=n(s),o(t,this,c)}}var o=n(197),i=Math.max;t.exports=r},function(t,e,n){var r=n(208),o=n(228),i=o(r);t.exports=i},function(t,e){function n(t){var e=0,n=0;return function(){var u=i(),a=o-(u-n);if(n=u,a>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,o=16,i=Date.now;t.exports=n},function(t,e){function n(t){if(null!=t){try{return o.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,o=r.toString;t.exports=n},function(t,e,n){var r=n(87),o=n(212),i=n(214),u=n(34),a=n(92),s=n(54),c=Object.prototype,f=c.hasOwnProperty,l=i(function(t,e){if(a(e)||u(e))return void o(e,s(e),t);for(var n in e)f.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){function r(t,e){return(a(t)?o:i)(t,u(e))}var o=n(198),i=n(200),u=n(211),a=n(51);t.exports=r},function(t,e,n){var r=n(203),o=n(23),i=Object.prototype,u=i.hasOwnProperty,a=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return o(t)&&u.call(t,"callee")&&!a.call(t,"callee")};t.exports=s},function(t,e,n){(function(t){var r=n(49),o=n(239),i="object"==typeof e&&e&&!e.nodeType&&e,u=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=u&&u.exports===i,s=a?r.Buffer:void 0,c=s?s.isBuffer:void 0,f=c||o;t.exports=f}).call(e,n(59)(t))},function(t,e,n){function r(t){if(!u(t)||o(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&f.call(n)==p}var o=n(22),i=n(218),u=n(23),a="[object Object]",s=Function.prototype,c=Object.prototype,f=s.toString,l=c.hasOwnProperty,p=f.call(Object);t.exports=r},function(t,e,n){function r(t){return"string"==typeof t||!i(t)&&u(t)&&o(t)==a}var o=n(22),i=n(51),u=n(23),a="[object String]";t.exports=r},function(t,e,n){var r=n(205),o=n(210),i=n(224),u=i&&i.isTypedArray,a=u?o(u):r;t.exports=a},function(t,e){function n(t){return void 0===t}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function o(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}var i=n(257);t.exports=i(r),t.exports.strict=i(o),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},function(t,e,n){"use strict";function r(t,e,n){this.name="RequestError",this.message=String(t),this.cause=t,this.error=t,this.options=e,this.response=n,Error.captureStackTrace&&Error.captureStackTrace(this)}function o(t,e,n,r){this.name="StatusCodeError",this.statusCode=t,this.message=t+" - "+(JSON&&JSON.stringify?JSON.stringify(e):e),this.error=e,this.options=n,this.response=r,Error.captureStackTrace&&Error.captureStackTrace(this)}function i(t,e,n){this.name="TransformError",this.message=String(t),this.cause=t,this.error=t,this.options=e,this.response=n,Error.captureStackTrace&&Error.captureStackTrace(this)}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,t.exports={RequestError:r,StatusCodeError:o,TransformError:i}},function(t,e,n){"use strict";function r(t,e,n){var r,o=this,u=!1;if(s(o._rp_callbackOrig))try{o._rp_callbackOrig.apply(o,arguments)}catch(t){u=!0,r=t}if(t?o._rp_reject(new d.RequestError(t,o._rp_options,e)):o._rp_options.simple&&!/^2/.test(""+e.statusCode)?s(o._rp_options.transform)?new i(function(t){t(o._rp_options.transform(n,e,o._rp_options.resolveWithFullResponse))}).then(function(t){o._rp_reject(new d.StatusCodeError(e.statusCode,n,o._rp_options,t))}).catch(function(t){o._rp_reject(new d.TransformError(t,o._rp_options,e))}):o._rp_reject(new d.StatusCodeError(e.statusCode,n,o._rp_options,e)):s(o._rp_options.transform)?new i(function(t){t(o._rp_options.transform(n,e,o._rp_options.resolveWithFullResponse))}).then(function(t){o._rp_resolve(t)}).catch(function(t){o._rp_reject(new d.TransformError(t,o._rp_options,e))}):o._rp_options.resolveWithFullResponse?o._rp_resolve(e):o._rp_resolve(n),u)throw r}function o(t,e){if(e=e||t,!l(h.Request.prototype[e]))throw new Error('Unable to expose method "'+e+'". It is already implemented by Request. Please visit https://github.com/request/request-promise/wiki/Troubleshooting');h.Request.prototype[e]=function(){return this._rp_promise[t].apply(this._rp_promise,arguments)}}var i=n(18),u=n(230),a=n(232),s=n(52),c=n(235),f=n(236),l=n(238),p=n(54),d=n(241),h=function(){function t(){a(p(n.c),function(t){delete n.c[t]})}var e=u({},n.c);t();var r=n(98);return t(),u(n.c,e),r}(),v={HEAD:function(t,e,n){return n?e:e.headers}},g=h.Request.prototype.init;h.Request.prototype.init=function(t){var e=this;return c(t)&&void 0===e._callback&&void 0===e._rp_promise&&(e._rp_promise=new i(function(t,n){e._rp_resolve=t,e._rp_reject=n}),e._rp_callbackOrig=e.callback,e.callback=r,f(t.method)&&(t.method=t.method.toUpperCase()),t.transform=t.transform||v[t.method],e._rp_options=t,e._rp_options.simple=!1!==t.simple,e._rp_options.resolveWithFullResponse=!0===t.resolveWithFullResponse),g.apply(e,arguments)},o("then"),o("catch"),o("finally"),h.Request.prototype.promise=function(){return this._rp_promise},h.bindCLS=function(t){n(!function(){var t=new Error('Cannot find module "cls-bluebird"');throw t.code="MODULE_NOT_FOUND",t}())(t)},t.exports=h},function(t,e,n){var r,o;!function(i,u,a){void 0!==t&&t.exports?t.exports=a():(r=a,void 0!==(o="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=o))}(0,0,function(){function t(t,e){return t=t.replace(/:\//g,"://"),t=t.replace(/([^:\s])\/+/g,"$1/"),t=t.replace(/\/(\?|&|#[^!])/g,"$1"),t=t.replace(/(\?.+)\?/g,"$1&")}return function(){var e=arguments,n={};return"object"==typeof arguments[0]&&(e=arguments[0],n=arguments[1]||{}),t([].slice.call(e,0).join("/"),n)}})},function(t,e){t.exports=require("auth0-magic@2.3.0")},function(t,e){t.exports=require("body-parser@1.12.4")},function(t,e){t.exports=require("cookie-signature@1.0.6")},function(t,e){t.exports=require("ejs@2.3.1")},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("github@0.2.4")},function(t,e){t.exports=require("jsonwebtoken@7.1.9")},function(t,e){t.exports=require("lru-memoizer@1.10.0")},function(t,e){t.exports=require("morgan@1.5.3")},function(t,e){t.exports=require("ms@0.7.1")},function(t,e){t.exports=require("url")},function(t,e){t.exports=require("webtask-tools")},function(t,e){t.exports=require("winston@1.0.0")},function(t,e){t.exports=require("wrappy@1.0.1")}]);